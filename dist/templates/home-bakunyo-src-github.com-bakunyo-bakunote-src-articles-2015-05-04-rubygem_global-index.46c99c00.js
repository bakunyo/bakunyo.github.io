(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{101:function(a,e,n){"use strict";n.r(e);var l=n(0),t=n.n(l),c=n(22),s=n.n(c),r=n(62),o=n.n(r),p=n(198),m={},b="wrapper";function j(a){var e=a.components,n=o()(a,["components"]);return Object(p.a)(b,s()({},m,n,{components:e,mdxType:"MDXLayout"}),Object(p.a)("p",null,"業務で使ってるGem「",Object(p.a)("strong",{parentName:"p"},"global"),"」がかなり便利だったのでメモしておく。"),Object(p.a)("p",null,Object(p.a)("a",s()({parentName:"p"},{href:"https://github.com/railsware/global"}),"https://github.com/railsware/global")),Object(p.a)("h2",null,"導入手順(Railsの場合)"),Object(p.a)("h3",null,"1.Gemfileに追加"),Object(p.a)("pre",null,Object(p.a)("code",s()({parentName:"pre"},{className:"hljs language-ruby"}),"gem ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-string"}),"'global'"))),Object(p.a)("h3",null,"2.initiallizersに追加"),Object(p.a)("p",null,"config/initializers/global.rb"),Object(p.a)("pre",null,Object(p.a)("code",s()({parentName:"pre"},{className:"hljs language-ruby"}),"Global.configure ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-keyword"}),"do")," ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-params"}),"|config|"),"\n  config.environment = Rails.env.to_s\n  config.config_directory = Rails.root.join(",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-string"}),"'config/global'"),").to_s\n",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-keyword"}),"end"))),Object(p.a)("p",null,"ここまでやれば、",Object(p.a)("inlineCode",{parentName:"p"},"config/global/xxxx.yml"),"にファイルを置くと設定値を読んでくれる"),Object(p.a)("pre",null,Object(p.a)("code",s()({parentName:"pre"},{className:"hljs language-yaml"}),Object(p.a)("span",s()({parentName:"code"},{className:"hljs-comment"}),"# yamlファイルの例"),"\n",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-attr"}),"default:"),"\n",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-attr"}),"  error-email:")," ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-string"}),"myname@example.com"),"\n",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-attr"}),"production:"),"\n",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-attr"}),"  error-email:")," ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-string"}),"error@example.com"))),Object(p.a)("p",null,"変数へのアクセス方法"),Object(p.a)("pre",null,Object(p.a)("code",s()({parentName:"pre"},{className:"hljs language-ruby"}),"Global.error-email ",Object(p.a)("span",s()({parentName:"code"},{className:"hljs-comment"}),"# 環境によって適切な方にアクセス"))),Object(p.a)("h3",null,"さらに"),Object(p.a)("p",null,"階層を深くするには、単にyamlの階層を深くするか\n",Object(p.a)("inlineCode",{parentName:"p"},"config/global/xxxx/yyyy.yml"),"\nのようにファイルパスを深くすれば期待通りに動いてくれる。"),Object(p.a)("p",null,"便利！"))}j.isMDXComponent=!0;var i=n(199);e.default=function(){return t.a.createElement(i.a,null,t.a.createElement(j,null))}}}]);