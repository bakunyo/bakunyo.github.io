{"post":{"id":10,"path":"/2013/04/20/css_in_rails/","date":"2013/04/20 09:00","title":"RailsはどこでCSSを指定するのか？","tags":["rails"],"body":"<p>最近<a href=\"http://d.hatena.ne.jp/keyword/Rails\">Rails</a>を触ることになり一通りTutorialを実践しているのだが、<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>をどこで指定した良いのか分からなかったので調べてみた。<br>\n<a href=\"http://d.hatena.ne.jp/keyword/Rails\">Rails</a>のバージョンは3.2。</p>\n<h4>レイアウトテンプレート内の記述</h4>\n<p>まず一般的に、レイアウトテンプレート内で<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>用のビューヘルパーを使う。<br>\nデフォルトでは以下のようになっているはず。</p>\n<pre class=\"code\" data-unlink=\"\">\napp/views/layouts/application.html.erb\n・・・・\n　<%= stylesheet_link_tag    \"application\", :media => \"all\" %>\n・・・・\n</pre>\n<p>stylesheet_link_tagの第1引数で、app/assets/stylesheets/からの<a href=\"http://d.hatena.ne.jp/keyword/%C1%EA%C2%D0%A5%D1%A5%B9\">相対パス</a>で指定する。<br>\n上記の場合、app/assets/stylesheets/application.<a href=\"http://d.hatena.ne.jp/keyword/css\">css</a>が読み込まれる。</p>\n<h4>デフォルトの<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>の記述</h4>\n<p>次に、指定したapplication.<a href=\"http://d.hatena.ne.jp/keyword/css\">css</a>を開いてみる。</p>\n<pre class=\"code\" data-unlink=\"\">\napp/assets/stylesheets/application.css\n\n　/*\n * This is a manifest file that'll be compiled into application.css, which will include all the files\n * listed below.\n *\n * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,\n * or vendor/assets/stylesheets of plugins, if any, can be referenced here using a relative path.\n *\n * You're free to add application-wide styles to this file and they'll appear at the top of the\n * compiled file, but it's generally better to create a new file per style scope.\n *\n *= require_self\n *= require_tree .\n */\n</pre>\n<p>ここでファイルを開いて、コメントしか無いからといってスルーしないよう注意。</p>\n<p>Rails 3.1から<strong>Asset pipeline</strong>という仕組みが導入されているらしい(詳しくは<a href=\"http://qa.atmarkit.co.jp/q/2269\">railsはどこでcssを指定するのか？</a>)。</p>\n<p>コメントの下の方にある</p>\n<pre class=\"code\" data-unlink=\"\">\n *= require_self\n *= require_tree .\n</pre>\n<p>によって、さらに別の<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>を読み込むよう指定している。</p>\n<p><code>require_tree</code>でstylesheets配下の<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>をすべて読みこむので、嫌な時はこれをはずしちゃえばいい。<br>\nちなみに、独自に作ったものや他所から持ってきた<a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>は<code>require mystyle</code>などのように指定する。</p>\n"}}