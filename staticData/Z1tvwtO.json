{"post":{"id":13,"path":"/2013/05/16/css_position/","date":"2013/05/16 09:00","title":"CSSのPosition指定(absolute)でハマったポイント","tags":["css"],"body":"<p><a href=\"http://d.hatena.ne.jp/keyword/CSS\">CSS</a>のPositionで<code>absolute</code>指定とかしてたら何故か他の部分にまで影響してレイアウトが崩れたので何故なのか確認してみた。</p>\n<h2>崩れた場合のサンプル</h2>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/b/bakunyo/20130516/20130516074651.png\" alt=\"f:id:bakunyo:20130516074651p:plain\" title=\"f:id:bakunyo:20130516074651p:plain\"></span></p>\n<p>枠だけグレーの四角がinput要素(text)で、それに対し右上に絶対位置指定で色付きグレーのdiv要素(something)を置いてる。<br>\nここまでは良いんだけど、その次に置きたい枠が緑色のdiv要素(next)が次じゃなくてinputに重なるようにして配置されてしまっている。</p>\n<p>サンプルのソースは以下。</p>\n<pre class=\"code\" data-unlink=\"\">\n<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"UTF-8\">\n<title>position test</title>\n<style>\n    .box {\n      position: relative;\n      width: 100px;\n      height: 30px;\n    }\n    .text {\n      position: absolute;\n      width: 100px;\n    }\n    .something {\n      position: absolute;\n      right: -10px;\n      top: -10px;\n      width: 20px;\n      height: 20px;\n      background: #ccc;\n    }\n    .next {\n      position: relative;\n      width: 200px;\n      height: 50px;\n      border: 2px solid #2d5;\n    }\n</style>\n</head>\n<body>\n<div class=\"box\">\n  <input type=\"text\" class=\"text\">\n  <div class=\"something\"></div>\n</div>\n<div class=\"next\"></div>\n</body>\n</html>\n</pre>\n<h2>修正した</h2>\n<p>色々試してみたんだけど、次のようにして解決できた。</p>\n<pre class=\"code\" data-unlink=\"\">\n.box {\n    position: relative;\n    width: 100px;\n    height: 30px;   /* ←高さを指定する */\n}\n</pre>\n<p><a href=\"http://d.hatena.ne.jp/keyword/chrome\">chrome</a>の<a href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%D9%A5%ED%A5%C3%A5%D1\">デベロッパ</a>ーツールで確認したところ、div要素(box)の高さが0となっていて、それを基準に配置していたので結果として重なってしまっていたということ。</p>\n<p>結果もきちんと反映されました。</p>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/b/bakunyo/20130516/20130516074446.png\" alt=\"f:id:bakunyo:20130516074446p:plain\" title=\"f:id:bakunyo:20130516074446p:plain\"></span></p>\n"}}