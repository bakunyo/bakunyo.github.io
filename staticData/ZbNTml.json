{"post":{"id":33,"path":"/2015/11/08/ctrlp/","date":"2015/11/08 23:15","title":"ctrlp.vimを試してみる","tags":["vim"],"body":"<p>約1年位Vimでnerdtreeを使ってきたんだけど、そろそろ別のも使ってみたいと思ったので<strong>ctrlp</strong>を試してみることにする。</p>\n<p>ちなみにnerdtreeはディレクトリのツリーが常に表示されてる分、幅が狭くて辛い時があった。</p>\n<h1>インストール</h1>\n<pre><code class=\"hljs vim\">NeoBundle <span class=\"hljs-string\">'ctrlpvim/ctrlp.vim'</span>\n</code></pre>\n<h1>起動</h1>\n<p><code>&lt;c-p&gt;</code></p>\n<p>適当にファイル名とか入力すれば絞り込んでくれる。</p>\n<h1>Help</h1>\n<pre><code class=\"hljs vim\">:<span class=\"hljs-keyword\">help</span> ctrlp-mappings\n</code></pre>\n<p>これ見とけばOK</p>\n<h1>キー(デフォルト)</h1>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">key</th>\n<th style=\"text-align:center\">action</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">&lt;c-d&gt;</td>\n<td style=\"text-align:center\">フルパス検索モードとファイル名検索モード(&gt;d&gt;)の切り替え</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-r&gt;</td>\n<td style=\"text-align:center\">文字列検索モードと正規表現検索モード(r&gt;&gt;)の切り替え</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-f&gt;, &lt;c-b&gt;</td>\n<td style=\"text-align:center\">検索対象の切り替え(files, mru files, buffer)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;s-tab&gt;</td>\n<td style=\"text-align:center\">match-windowとpromptのfocus切り替え(match-windowに切り替える意味がイマイチわからない)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-c&gt;, &lt;esc&gt;</td>\n<td style=\"text-align:center\">ctrlpの終了</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;cr&gt;</td>\n<td style=\"text-align:center\">curren windowで開く</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-x&gt;</td>\n<td style=\"text-align:center\">horizonal splitで開く</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-v&gt;</td>\n<td style=\"text-align:center\">vertical splitで開く</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-z&gt;</td>\n<td style=\"text-align:center\">markする</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-o&gt;</td>\n<td style=\"text-align:center\">ダイアログ付きで開く(markしているのがあれｂ一気に開く)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;c-y&gt;</td>\n<td style=\"text-align:center\">新規ファイル作成</td>\n</tr>\n</tbody>\n</table>\n<h1>ファイル検索にagを使う</h1>\n<p>agのインストール</p>\n<pre><code class=\"hljs bash\">brew install ag\n</code></pre>\n<p>ag.vimの設定</p>\n<pre><code class=\"hljs vim\">NeoBundle <span class=\"hljs-string\">'rking/ag.vim'</span>\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">executable</span>(<span class=\"hljs-string\">'ag'</span>)\n  <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">g:ctrlp_use_caching</span>=<span class=\"hljs-number\">0</span>\n  <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">g:ctrlp_user_command</span>=<span class=\"hljs-string\">'ag %s -i --nocolor --nogroup -g \"\"'</span>\n<span class=\"hljs-keyword\">endif</span>\n</code></pre>\n<p>はやい。</p>\n<h1>参考</h1>\n<ul>\n<li><a href=\"http://christina04.hatenablog.com/entry/2014/10/30/100612\">CtrlP + ag で vim の検索を高速化</a></li>\n<li><a href=\"http://qiita.com/oahiroaki/items/d71337fb9d28303a54a8\">ctrlp.vimの使い方まとめ</a></li>\n</ul>\n<p>次はag.vim、quickfixあたりの使い方整理してまとめたいな！</p>\n"}}