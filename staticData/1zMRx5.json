{"post":{"id":26,"path":"/2013/10/25/return_value_of_method_and_block/","date":"2013/10/25 09:00","title":"メソッドとブロックの戻り値","tags":["ruby"],"body":"<p>メソッドとブロックの戻り値についてのメモ。</p>\n<p>yieldの前に変数を置いて、ブロックの戻り値を受け取ることができます。<br>\nブロックの戻り値は、最後に評価された値です。</p>\n<pre><code class=\"hljs ruby\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">my_method</span></span>\n  a = <span class=\"hljs-keyword\">yield</span>\n  puts a + <span class=\"hljs-string\">\" received\"</span>\n<span class=\"hljs-keyword\">end</span>\n\nmy_method <span class=\"hljs-keyword\">do</span>\n  <span class=\"hljs-string\">\"block message\"</span>\n<span class=\"hljs-keyword\">end</span>        <span class=\"hljs-comment\"># \"block message received\"と表示される</span>\n</code></pre>\n<p>ブロック内でbreakを使うと、引数に指定した値がメソッドの戻り値となります。</p>\n<pre><code class=\"hljs ruby\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">my_method</span></span>\n  a = <span class=\"hljs-keyword\">yield</span>\n  puts a + <span class=\"hljs-string\">\" received\"</span>\n<span class=\"hljs-keyword\">end</span>\n\nmy_method <span class=\"hljs-keyword\">do</span>\n  <span class=\"hljs-keyword\">break</span> <span class=\"hljs-string\">\"block message\"</span>\n<span class=\"hljs-keyword\">end</span>        <span class=\"hljs-comment\"># =&gt; \"block message\"</span>\n</code></pre>\n<p>メソッド内でreturnを使い、戻り値を指定することができます。</p>\n<pre><code class=\"hljs ruby\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">my_method</span></span>\n  a = <span class=\"hljs-keyword\">yield</span>\n  <span class=\"hljs-keyword\">if</span> a == <span class=\"hljs-string\">\"block message\"</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"same\"</span>\n  <span class=\"hljs-keyword\">end</span>\n  puts a + <span class=\"hljs-string\">\" received\"</span>\n<span class=\"hljs-keyword\">end</span>\n\nmy_method <span class=\"hljs-keyword\">do</span>\n  <span class=\"hljs-string\">\"block message\"</span>\n<span class=\"hljs-keyword\">end</span>        <span class=\"hljs-comment\"># =&gt; \"same\"</span>\n</code></pre>\n"}}