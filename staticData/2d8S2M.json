{"post":{"id":15,"path":"/2013/05/23/gem_command/","date":"2013/05/23 09:00","title":"そろそろ整理しておきたい、Gemコマンドの使い方","tags":["ruby"],"body":"<p><strong><a href=\"http://d.hatena.ne.jp/keyword/Ruby\">Ruby</a>のパッケージ管理システム</strong>であるGemを使う機会も増えてきたので、そろそろコマンドをまとめておくことにしました。</p>\n<h2><a href=\"http://d.hatena.ne.jp/keyword/RubyGems\">RubyGems</a>とは?</h2>\n<h4><a href=\"http://d.hatena.ne.jp/keyword/Wikipedia\">Wikipedia</a>より引用</h4>\n<blockquote>\n<p><a href=\"http://d.hatena.ne.jp/keyword/RubyGems\">RubyGems</a>は、<a href=\"http://d.hatena.ne.jp/keyword/Ruby\">Ruby</a>言語用のパッケージ管理システムであり、<a href=\"http://d.hatena.ne.jp/keyword/Ruby\">Ruby</a>のプログラムと（&quot;gem&quot; と呼ばれる）ライブラリの配布用標準フォーマットを提供している。gemを容易に管理でき、gemを配布するサーバの機能も持つ。<a href=\"http://d.hatena.ne.jp/keyword/Ruby\">Ruby</a>バージョン1.9以降では標準ライブラリの一部となっている。</p>\n</blockquote>\n<p>便利なGemパッケージが世の中には沢山配布されているので、有効に活用していきたいですね！<br>\nGemの公式マニュアルは以下になります。<br>\n<a href=\"http://docs.rubygems.org/\">RubyGems Manuals</a></p>\n<p>それでは、よく使うGemコマンドを用途別にまとめていきます。</p>\n<h2>Gemを探す</h2>\n<p><code>list</code>または<code>search</code>は、ローカルもしくはリモートにあるGemパッケージを検索します。<br>\n2つのコマンドはほぼ同じ動作をします。違いは以下の点です。</p>\n<p><code>list</code>： **<span style=\"color: #ff0000\">Gemパッケージ名の頭から文字列を指定して</span>**検索<br>\n<code>search</code>： **<span style=\"color: #ff0000\">Gemパッケージ名を<a href=\"http://d.hatena.ne.jp/keyword/%C0%B5%B5%AC%C9%BD%B8%BD\">正規表現</a>で</span>**検索</p>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem [list / search] [String] [options]</td>\n<td>Stringで始まるGemを表示する</td>\n</tr>\n</tbody>\n</table>\n<p>以下のオプションを指定することができます。</p>\n<table>\n<thead>\n<tr>\n<th>オプション</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-i, --[no-]installed</td>\n<td>インストール済み[でない]Gemに限定する</td>\n</tr>\n<tr>\n<td>-d, --[no-]details</td>\n<td>詳細を併せて表示する</td>\n</tr>\n<tr>\n<td>-l, --local</td>\n<td>localを対象とする</td>\n</tr>\n<tr>\n<td>-r, --remote</td>\n<td>remoteを対象とする</td>\n</tr>\n<tr>\n<td>-b, --both</td>\n<td>local, remoteどちらも対象とする</td>\n</tr>\n</tbody>\n</table>\n<h5>デフォルトで指定されているオプション</h5>\n<pre class=\"code\" data-unlink=\"\">\n--local --no-details\n</pre>\n<p>デフォルトでは<span style=\"color: #ff0000\">--local</span>が指定されているので、外部のを探したい時は<span style=\"color: #ff0000\">-r</span>指定しないとダメですね〜。</p>\n<p>また、インストールしてあったけどこれ何だっけ？ って時には</p>\n<pre class=\"code\" data-unlink=\"\">\ngem list GEMNAME -d\n</pre>\n<p>で中身を確認します。便利ですね！</p>\n<p>なお、Gemパッケージは以下のWebサイトでも探すことができます。<br>\n<a href=\"http://rubygems.org/\">RubyGems.org</a><br>\n<a href=\"https://www.ruby-toolbox.com/\">The Ruby Toolbox</a></p>\n<h2>Gemをインストールする</h2>\n<p>Gemパッケージをインストールするコマンドです。</p>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem install [GEMNAME] [options]</td>\n<td>localまたはremoteからGemパッケージをインストール</td>\n</tr>\n</tbody>\n</table>\n<p>以下のオプションを指定することができます。</p>\n<table>\n<thead>\n<tr>\n<th>オプション</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-v, --version</td>\n<td>バージョン指定 ex) -v &quot;= 1.0.0&quot;</td>\n</tr>\n<tr>\n<td>--[no-]rdoc</td>\n<td>Rdocドキュメントをダウンロードする[しない]</td>\n</tr>\n<tr>\n<td>--[no-]ri</td>\n<td>riドキュメントをダウンロードする[しない]</td>\n</tr>\n<tr>\n<td>-l, --local</td>\n<td>localからインストール</td>\n</tr>\n<tr>\n<td>-r, --remote</td>\n<td>remoteからインストール</td>\n</tr>\n<tr>\n<td>-b, --both</td>\n<td>local, remoteどちらからでも</td>\n</tr>\n</tbody>\n</table>\n<h5>デフォルトで指定されているオプション</h5>\n<pre class=\"code\" data-unlink=\"\">\n--both --version '>= 0' --rdoc --ri --no-force\n--install-dir /my/gems/directory\n</pre>\n<p>個人的に使ったことが無いですが、ローカルからインストールする時は、<code>.gem</code>ファイルのある場所に移動してからコマンドを実行するみたいです。</p>\n<h4>アンインストール</h4>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem uninstall [GEMNAME]</td>\n<td>Gemパッケージをアンインストール</td>\n</tr>\n</tbody>\n</table>\n<p>versionが違うやつとかはややこしいのでこれで除いたりしますね。</p>\n<h2>インストールしたGemファイル（の場所）を探す</h2>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem which [GEMNAME]</td>\n<td>localにあるGEMNAMEパスを表示する</td>\n</tr>\n</tbody>\n</table>\n<p>gemファイルが置いてある場所の階層が深かったりするので、<strong>地味に便利</strong>です。<br>\nちなみに、</p>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem unpack [GEMNAME]</td>\n<td>GEMFILEをカレントディレクトリにコピーする</td>\n</tr>\n</tbody>\n</table>\n<p>**<span style=\"color: #ff0000\">Gemの中身を見たい時</span>**にはこちらの方が便利かもしれません。</p>\n<h2>Gem自身の管理</h2>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem update --system</td>\n<td>Gem自身をupdateする</td>\n</tr>\n<tr>\n<td>gem -v</td>\n<td>Gemのバージョンを表示する</td>\n</tr>\n</tbody>\n</table>\n<p>あんまりやったことが無いです（汗）</p>\n<h2>ヘルプ</h2>\n<table>\n<thead>\n<tr>\n<th>コマンド</th>\n<th>機能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gem help commands</td>\n<td>使用できるコマンドの一覧を表示する</td>\n</tr>\n<tr>\n<td>gem help [command]</td>\n<td>commandのヘルプを表示する</td>\n</tr>\n<tr>\n<td>gem server</td>\n<td>サーバーを立ててgemのマニュアルを表示する</td>\n</tr>\n</tbody>\n</table>\n<p>分からなくなったらとりあえず<code>gem help command</code>です！</p>\n<h2>ビルド関連</h2>\n<p>自作したGemをビルドするときに使います。<br>\nこちらはまだ試していないので、、いずれ更新します！</p>\n<h4>参考になるサイト</h4>\n<p><a href=\"http://ayaketan.hatenablog.com/entry/20111214/1323833813\">RubyGemsの使い方 - ayaketanのプログラミング勉強日記</a><br>\n<a href=\"http://docs.rubygems.org/\">RubyGems Manuals</a><br>\n<a href=\"http://yakinikunotare.boo.jp/orebase/index.php?Ruby%2FRubygems%BB%C8%A4%A4%CA%FD%A4%DE%A4%C8%A4%E1\">Ruby/Rubygems使い方まとめ</a></p>\n"}}