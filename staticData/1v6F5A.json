{"post":{"id":23,"path":"/2013/08/27/uploadify/","date":"2013/08/27 09:00","title":"複数ファイルのuploadができる「Uploadify」を使ってみた","tags":["jquery"],"body":"<h2>複数ファイルのアップロードに特化した「Uploadify」</h2>\n<p><a href=\"http://d.hatena.ne.jp/keyword/jQuery\">jQuery</a>のプラグインで、複数のファイルを選択しアップロードできる<a href=\"http://www.uploadify.com/\">uploadify</a>というのを使ってみました。</p>\n<p><a href=\"http://www.uploadify.com/\"><img src=\"http://capture.heartrails.com/150x130/shadow?http://www.uploadify.com/\" alt=\"\"></a><a href=\"http://www.uploadify.com/\">HTML5 File Upload Script, jQuery Multiple File Upload Plugin - Uploadify / UploadiFive - Uploadify</a><a href=\"http://b.hatena.ne.jp/entry/http://www.uploadify.com/\"><img src=\"http://b.hatena.ne.jp/entry/image/http://www.uploadify.com/\" alt=\"\"></a></p>\n<p><a href=\"http://www.uploadify.com/demos/\">デモはこちら</a></p>\n<h2>使い方</h2>\n<p>以下の記事が大変参考になりました。</p>\n<p><a href=\"http://www.tinybeans.net/blog/2010/04/13-121311.html\">Ajax風にファイルをアップロードするjQueryプラグイン「Uploadify」の使い方 | かたつむりくんのWWW</a><a href=\"http://b.hatena.ne.jp/entry/http://www.tinybeans.net/blog/2010/04/13-121311.html\"><img src=\"http://b.hatena.ne.jp/entry/image/http://www.tinybeans.net/blog/2010/04/13-121311.html\" alt=\"\"></a></p>\n<p><a href=\"http://wataame.sumomo.ne.jp/archives/3370\">ファイルをまとめてアップロードする jQuery のプラグイン「Uploadify」の使い方。 | Wataame Frog</a><a href=\"http://b.hatena.ne.jp/entry/http://wataame.sumomo.ne.jp/archives/3370\"><img src=\"http://b.hatena.ne.jp/entry/image/http://wataame.sumomo.ne.jp/archives/3370\" alt=\"\"></a></p>\n<h2>ファイル拡張子の限定</h2>\n<p><strong>fileTypeExts</strong>というオプションで選択できるファイルの拡張子を限定できます。<br>\n<a href=\"http://www.uploadify.com/documentation/uploadify/filetypeexts/\">fileTypeExts - Uploadify Documentation</a></p>\n<p><a href=\"http://www.uploadify.com/documentation/uploadify/filetypeexts/\">デモはこちら</a></p>\n<h2>指定外の拡張子が選ばれた場合の対応</h2>\n<p>ファイル選択のダイアログで「ファイルの種類」→「すべてのファイル」としてしまうと、他の拡張子も選択できてしまいます(キューには追加されない)。<br>\n選択後には、警告ダイアログが表示されます。<br>\nメッセージの内容は</p>\n<pre class=\"code\" data-unlink=\"\">\nSome files were not added to the queue:\n</pre>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/b/bakunyo/20130827/20130827203147.png\" alt=\"f:id:bakunyo:20130827203147p:plain\" title=\"f:id:bakunyo:20130827203147p:plain\"></span></p>\n<p>英語…ちょっと不親切なので、日本語に変えたいですね。<br>\nこのメッセージを変えるオプションがあっても良さそうなものですが、ありませんでした。<br>\nそこで、<span style=\"color: #ff0000\"><strong><a href=\"http://d.hatena.ne.jp/keyword/jquery\">jquery</a>.uploadify.js</strong></span>を編集します。<br>\n282行目と572行目にメッセージがありました。</p>\n<pre class=\"code\" data-unlink=\"\">\n...\n  uploadQueue        : [], // The files currently to be uploaded\n  errorMsg           : 'Some files were not added to the queue:'\n};\n...\n</pre>\n<pre class=\"code\" data-unlink=\"\">\n...\n  // Reset some queue info\n  this.queueData.errorMsg       = 'Some files were not added to the queue:';\n  this.queueData.filesReplaced  = 0;\n...\n</pre>\n<p>上記2つを変更したら、メッセージを変えることができました！</p>\n"}}