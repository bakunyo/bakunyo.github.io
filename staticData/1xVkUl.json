{"post":{"id":30,"path":"/2014/02/16/windows_alias/","date":"2014/02/16 09:00","title":"Windowsコマンドプロンプトでaliasを使いたい","tags":["windows"],"body":"<h3><strong>cmd</strong></h3>\n<p>でaliasなんて無理かなと半ば諦めていましたが、探してみればあるものですね。<br>\naliasを設定するには以下のようにします。</p>\n<pre class=\"code\" data-unlink=\"\">\ndoskey ll=dir /ad\n</pre>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Users\\bakunyo\\Desktop>ll\n ドライブ C のボリューム ラベルは Windows です\n ボリューム シリアル番号は 1ED0-4D6E です\n\n C:\\Users\\bakunyo\\Desktop のディレクトリ\n\n2014/02/01  21:16    <DIR>          .\n2014/02/01  21:16    <DIR>          ..\n2013/12/31  18:12    <DIR>          inbox\n               0 個のファイル                   0 バイト\n               3 個のディレクトリ  186,053,722,112 バイトの空き領域\n</pre>\n<p>おお、使えるようになっています！</p>\n<p>続いて、aliasの一覧を確認するには、以下のようにします。</p>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Users\\bakunyo\\Desktop>doskey /macros\nll=dir /ad\n</pre>\n<p>実は、今回なんでalias使いたくなったかというと、<a href=\"http://d.hatena.ne.jp/keyword/rails\">rails</a>の起動コマンドが長くて鬱陶しかったんですね。</p>\n<pre class=\"code\" data-unlink=\"\">\nbundle exec rails s\n</pre>\n<p>これをこのままショートカットにしても良いのですが、引数にして渡すこともできるそうです。</p>\n<pre class=\"code\" data-unlink=\"\">\ndoskey bx=bundle exec $1 $2\n</pre>\n<p>$1は1番目、$2は2番目の引数。いろいろと応用が効きそうですね。<br>\n実行してみます。</p>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Users\\bakunyo\\Desktop\\inbox\\workspace\\ruby\\sample_app>bx rails s\nFor a better Pry experience on Windows, please use ansicon:\n   http://adoxa.3eeweb.com/ansicon/\n=> Booting WEBrick\n=> Rails 4.0.2 application starting in development on http://0.0.0.0:3000\n=> Run `rails server -h` for more startup options\n=> Ctrl-C to shutdown server\n[2014-02-16 10:02:14] INFO  WEBrick 1.3.1\n[2014-02-16 10:02:14] INFO  ruby 2.0.0 (2013-05-14) [i386-mingw32]\n[2014-02-16 10:02:14] INFO  WEBrick::HTTPServer#start: pid=5624 port=3000\n</pre>\n<p><span style=\"color: #ff0000\"><strong>起動できました！</strong></span><br>\n※bxを<code>bundle exec</code>にしておいて、<code>bundle exec rais s</code>と実行することはできないんですね。</p>\n<h3>設定の保存</h3>\n<p>さて、この設定したaliasですが、どこかに保存しておかないと次にcmd起動した時には消えてしまっています。<br>\nなので、ファイルに保存＆cmd起動時に読み込む設定をします。</p>\n<p>まずは、設定をどこか適当な場所に保存します。</p>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Users\\bakunyo>doskey /macros > C:\\Users\\bakunyo\\.cmdrc\n</pre>\n<p>cmdの起動ファイルで右クリック＞プロパティを選択し、リンク先の中身に設定ファイルを読み込むよう追記してあげます。</p>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/b/bakunyo/20140216/20140216103802.png\" alt=\"f:id:bakunyo:20140216103802p:plain\" title=\"f:id:bakunyo:20140216103802p:plain\"></span></p>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Windows\\System32\\cmd.exe /k \"doskey /macrofile=C:\\Users\\bakunyo\\.cmdrc\"\n</pre>\n<p>ちなみに、自分はRailsInstallerで加わった<a href=\"http://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%D7%A5%ED%A5%F3%A5%D7%A5%C8\">コマンドプロンプト</a>を以下のように編集しました。</p>\n<pre class=\"code\" data-unlink=\"\">\nC:\\Windows\\System32\\cmd.exe /E:ON /k \"C:\\RailsInstaller\\Ruby2.0.0\\setup_environment.bat C:\\RailsInstaller & doskey /macrofile=C:\\Users\\bakunyo\\.cmdrc\"\n</pre>\n<p>起動コマンドは＆で繋げられるみたいですね！<br>\nこれで、かなり便利になりました。</p>\n"}}